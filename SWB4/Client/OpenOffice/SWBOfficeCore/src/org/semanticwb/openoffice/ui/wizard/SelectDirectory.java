/*
 * SelectDirectory.java
 *
 * Created on 3 de junio de 2008, 11:58 AM
 */

package org.semanticwb.openoffice.ui.wizard;

import java.util.Map;
import javax.swing.JOptionPane;
import org.netbeans.spi.wizard.Wizard;
import org.netbeans.spi.wizard.WizardPage;
import org.netbeans.spi.wizard.WizardPanelNavResult;

/**
 *
 * @author  victor.lorenzana
 */
public class SelectDirectory extends WizardPage {
    public static final String DIRECTORY = "dir";
    
    /** Creates new form SelectDirectory */
    public SelectDirectory() {
        initComponents();
    }
    public static String getDescription()
    {
        return "Directorio de almacenamiento";
    }
    
    @Override
    public WizardPanelNavResult allowNext(String arg, Map map, Wizard wizard)
    {
        WizardPanelNavResult result = WizardPanelNavResult.PROCEED;
        if (!this.jFileChooser1.getSelectedFile().exists())
        {
            JOptionPane.showMessageDialog(this, "!Debe indicar un directorio!", SelectDirectory.getDescription(), JOptionPane.ERROR_MESSAGE);
            this.jFileChooser1.requestFocus();            
            result = WizardPanelNavResult.REMAIN_ON_PAGE;
        }
        else
        {
            map.put(DIRECTORY, this.jFileChooser1.getSelectedFile());
        }
        return result;
    }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jFileChooser1 = new javax.swing.JFileChooser();

        setAutoscrolls(true);
        setLayout(new javax.swing.BoxLayout(this, javax.swing.BoxLayout.LINE_AXIS));

        jFileChooser1.setControlButtonsAreShown(false);
        jFileChooser1.setDialogTitle("Seleccionar Directorio");
        jFileChooser1.setDialogType(javax.swing.JFileChooser.SAVE_DIALOG);
        jFileChooser1.setFileSelectionMode(javax.swing.JFileChooser.DIRECTORIES_ONLY);
        jFileChooser1.setPreferredSize(new java.awt.Dimension(330, 338));
        add(jFileChooser1);
    }// </editor-fold>//GEN-END:initComponents
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JFileChooser jFileChooser1;
    // End of variables declaration//GEN-END:variables
    
}
