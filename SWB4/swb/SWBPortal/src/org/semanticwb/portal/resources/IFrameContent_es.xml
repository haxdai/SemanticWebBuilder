<?xml version="1.0" encoding="ISO-8859-1"?>
<admresource xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <xslfile>admresource.xslt</xslfile>
    <form name="frmAddNew" action="true" method="post" jsframework="dojo">
        <admdbconnmgr defconn="true"/>
        <fieldset legend="Datos">
            <input type="text" name="url" label="Url del contenido:" size="50" jsrequired="true" promptMessage="URL del archivo, absoluta o relativa a la sección" />
        </fieldset>
        <fieldset legend="Forma y estilo">
            <input type="text" id="width"  name="width"  label="Ancho:" maxlength="4" regExp="\d{1,4}" invalidMessage="Ancho inválido" promptMessage="Ancho del recuadro considerado en pixeles" />
            <input type="text" id="height" name="height" label="Alto:"  maxlength="4" regExp="\d{1,4}" invalidMessage="Altura inválida" promptMessage="Alto del recuadro considerado en pixeles" />

            <select name="mimetype" label="Tipo de Mime:">
                <option value="text/html" />
                <option value="text/richtext" />
                <option value="text/rtf" />
                <option value="application/rtf" />
                <option value="application/pdf" />
                <option value="application/vnd.sun.xml.writer" />
                <option value="application/vnd.sun.xml.calc" />
                <option value="application/vnd.sun.xml.impress" />
                <option value="application/msword " />
                <option value="application/vnd.ms-excel" />
                <option value="application/vnd.ms-powerpoint" />
            </select>

            <input type="text" id="style" name="style" label="Estilo:" promptMessage="Estilo de la región" />
            <input type="text" id="cssclass" name="cssclass" label="Clase CSS:" promptMessage="Nombre de la clase CSS" />
            <statictext name="note">
		<![CDATA[
                <font style="color: #428AD4; font-family: Verdana; font-size:10px;">
                    * Dato requerido
                </font>
		]]>
            </statictext>
        </fieldset>

        <fieldset>
            <statictext name="cmd">
            <![CDATA[
            <button id="btnSave" type="submit" name="btnSave" dojoType="dijit.form.Button">Guardar</button>
            <button id="btnReset" type="reset" name="btnReset" dojoType="dijit.form.Button">Reestablecer</button>
            ]]>
            </statictext>
        </fieldset>
    </form>

    <script type="text/javascript">
        <![CDATA[
        dojo.require("dijit.form.Button");

        dojo.addOnLoad(function(){
            dojo.connect(dijit.byId("btnSave"),  "onSubmit", 
                function() {
                    if(jsValida(dojo.byId("frmAddNew")))
                        return true;
                    else
                        return false;
                }
            );
            dojo.byId('mimetype').selectedIndex=0;
        });

        function jsValida(frm) {
            if( frm.mimetype.selectedIndex<0 ) {
                alert('Falta seleccionar un tipo MIME.');
                frm.mimetype.focus();
                return false;
            }
            return true;
        }
    ]]>
    </script>
</admresource>