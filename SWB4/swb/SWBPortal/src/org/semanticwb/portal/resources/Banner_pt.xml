<?xml version="1.0" encoding="ISO-8859-1"?>
<admresource xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <xslfile>admresource.xslt</xslfile>
    <form name="frmAdmRes" action="true" method="post" enctype="multipart/form-data" jsframework="dojo" >
    <admdbconnmgr defconn="true"/>

    <fieldset legend="Configuração básica">
        <input type="text" id="url" name="url" label="Endereço Web" promptMessage="Endereço Web" />
        <statictext name="txtTarget">Em uma nova janela</statictext>
	<input type="radio" name="target" id="target0" label="Sim" value="true"/>
	<input type="radio" name="target" id="target1" label="Não" value="false" checked="true"/>

        <input type="text" id="axn" name="axn" label="ação" promptMessage="Javascript ação, proposta no evento onclick" />

        <input type="file" name="img" label="Imagem (jpg, jpeg, gif, png, swf)" showfile="true" filetype="jpg|jpeg|gif|png|swf" isshowfiletype="true" isremovefile="true" removemsg="Remover imagem" size="40" />
        <input type="text" id="alt" name="alt" label="Texto alternativo" promptMessage="Descrição indicativa do banner. Diretrizes de Acessibilidade" />

        <textarea id="longdesc" name="longdesc" label="Descrição longa" rows="5" cols="50" wrap="virtual" promptMessage="Descrição banner indicativo de Ajuda modo de ação. Diretrizes de Acessibilidade" />
    </fieldset>

    <div title="Estilo" open="false">
    <fieldset legend="Configurando Dimensões">
        <input type="text" id="width"  name="width" label="Largura da imagem" maxlength="9" regExp="\d{1,9}(|px|in|cm|mm|pt|em|ex|%)" invalidMessage="Inválido larga" promptMessage="Largura da imagem. Exemplos 90%, 350px, 854" />
        <input type="text" id="height" name="height" label="Altura da imagem" maxlength="9" regExp="\d{1,9}(|px|in|cm|mm|pt|em|ex|%)" invalidMessage="Altura inválido" promptMessage="Altura da imagem. Exemplos 90%, 350px, 854" />
    </fieldset>
    </div>

    <div title="Configurações Avançadas" open="false">
    <fieldset legend="Externas Banner">
        <textarea id="code" name="code" label="* Código" rows="5" cols="50" wrap="virtual"/>
        <input type="text" id="index" name="index" label="Ordem do índice" maxlength="7" regExp="\d{1,7}" invalidMessage="Índice inválido" promptMessage="Índice numérico da imagem" />
    </fieldset>
    </div>

    <fieldset>
        <input type="submit" name="btnSave" id="btnSave" value="Guardar" onclick="return jsValida(this.form)" />
        <input type="reset"  name="btnReset" id="btnReset" value="Reset" />
    </fieldset>
    </form>

    <script type="text/javascript">
        <![CDATA[
        dojo.require("dijit.form.Button");
        dojo.require("dijit.form.ValidationTextBox");

        function jsValida(frm) {
            alert('1');
            if(!isEmpty(dojo.byId('url').value) && isEmpty(dojo.byId('img').value) && !dojo.byId('wbNoFile_img')) {
                alert('Especifique uma imagem para o banner');
                dojo.byId('img').focus();
                return false;
            }
            alert('img'+isEmpty(dojo.byId('img').value)+', code='+isEmpty(dojo.byId('code').value));
            if(isEmpty(dojo.byId('img').value) && isEmpty(dojo.byId('code').value)) {
                alert('Definir uma configuração básica');
                dojo.byId('url').focus();
                return false;
            }
            return true;
        }
        ]]>
    </script>
</admresource>