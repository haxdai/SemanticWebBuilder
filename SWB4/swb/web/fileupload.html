<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
    <title>Flash HTML</title>
    <link href="/swbadmin/js/dojo/dijit/themes/dijit.css" rel="stylesheet" />
    <link href="/swbadmin/js/dojo/dijit/themes/tundra/form/Button.css" rel="stylesheet" />
    <link href="/swbadmin/js/dojo/dijit/themes/tundra/ProgressBar.css" rel="stylesheet" />
    <link href="/swbadmin/js/dojo/dojox/form/resources/FileUploader.css" rel="stylesheet" />
	<script>
        djConfig = {
            isDebug: false,
			popup:true,
            parseOnLoad: true
        }
    </script>
    <script src="/swbadmin/js/dojo/dojo/dojo.js"></script>
    <script>
        dojo.require("dojox.form.FileUploader");
        dojo.require("dijit.form.Button");
	dojo.require("dijit.ProgressBar");

        dojo.addOnLoad(function(){

			var props = {
				isDebug:false,
				hoverClass:"uploadHover",
				activeClass:"uploadPress",
				disabledClass:"uploadDisabled",
				uploadUrl:dojo.moduleUrl("dojox.form", "resources/UploadFile.php"),
				fileMask:[
					["Jpeg File", 	"*.jpg;*.jpeg"],
					["GIF File", 	"*.gif"],
					["PNG File", 	"*.png"],
					["All Images", 	"*.jpg;*.jpeg;*.gif;*.png"]
				]
			}



			if(dojo.byId("btnH")){
				dojo.byId("hFiles").value = "";
				var h = new dojox.form.FileUploader(dojo.mixin({
					force:"html",
					showProgress:true,
					progressWidgetId:"progressBarHtml",
					selectMultipleFiles:true,
					fileListId:"hFiles",
					tabIndex:11
				}, props), "btnH");

				//h.attr("disabled", dojo.byId("hGroup").value=="");
				//dojo.connect(dojo.byId("hGroup"), "keyup", function(){
				//	h.attr("disabled", dojo.byId("hGroup").value=="");
				//});
				dojo.connect(dijit.byId("hSubmit"), "onClick", function(){
					h.submit(dojo.byId("formH"));
				});
				dojo.connect(h, "onComplete", function(dataArray){
					//console.warn("html onComplete", dataArray)
					//dojo.forEach(dataArray, function(d){
					//	addThumb(d, "hThumbs");
					//});
				});
			}

		});


    </script>
    <style>
        .uploadBtn{
            border:1px solid #333333;
            background:url(/swbadmin/js/dojo/dijit/themes/soria/images/buttonEnabled.png) #d0d0d0 repeat-x scroll 0px top;
            font-size:14px;
            font-family:Arial;
            width:201px;
            height:30px;
            line-height:50px;
			vertical-align:middle; /* emulates a <button> */
			text-align:center;
        }
	.uploadHover{
            background-image:url(/swbadmin/js/dojo/dijit/themes/soria/images/buttonHover.png);
            cursor:pointer;
			font-weight:bold;
			font-style:italic;
			font-family:serif;
        }
        .uploadPress{
            background-image:url(/swbadmin/js/dojo/dijit/themes/soria/images/buttonActive.png);
        }
        .uploadDisabled{
                background-image:none;
                background-color:#666;
                color:#999;
                border:1px solid #999;
                font-family:serif;
                font-style:italic;
        }
        .progBar{
                width:294px;
                display:none;
        }
        #fFiles, #hFiles{
                width:200px;
                height:75px;
                overflow-x:hidden;
                overflow-y:auto;
                border:1px solid #ccc;
        }
    </style>
</head>
<body class="soria">
    <h1>FileUploader Widget Form Test</h1>
        <form id="formH" class="form">
                <label>Group Name:</label>
                <input class="field" tabIndex="7" type="text" value="" id="hGroup" name='hGroup' /><br/>
                <label>Date:</label>
                <input class="field" tabIndex="8" type="text" value="" id="hDate" name='date' /><br/>
                <label>Author:</label>
                <input class="field" tabIndex="9" type="text" value="" id="hAuthor" name='author' /><br/>
                <label>Files:</label>
                <div  class="field" id="hFiles"></div>
                <div tabIndex="11"  id="btnH" class="uploadBtn btn">HTML Select Files</div>
                <button tabIndex="12"  class="btn" id="hSubmit" class="" dojoType="dijit.form.Button">Submit</button>
                <div indeterminate="false" id="progressBarHtml" class="progBar" dojoType="dijit.ProgressBar"></div>
        </form>
</body>
</html>

